services:
  arma3server:
    image: ghcr.io/brettmayson/arma3server:latest
    ports:
      - "${ARMA_PORT}:2302/udp"
      - "${ARMA_PORT_1}:2303/udp"
      - "${ARMA_PORT_2}:2304/udp"
      - "${ARMA_PORT_3}:2305/udp"
    volumes:
      - ./configs:/arma3/configs
      - ./mpmissions:/arma3/mpmissions
      - ./mods:/arma3/mods
      - ./servermods:/arma3/servermods
      - ./keys:/arma3/keys
    environment:
      STEAM_USER: ${STEAM_USER}
      STEAM_PASSWORD: ${STEAM_PASSWORD}
      ARMA_CONFIG: ${ARMA_CONFIG}
      ARMA_PROFILE: ${ARMA_PROFILE}
      ARMA_WORLD: ${ARMA_WORLD}
      ARMA_CDLC: ${ARMA_CDLC}
      MODS_LOCAL: "true"
      ARMA_MODS: ${ARMA_MODS}
    restart: unless-stopped
